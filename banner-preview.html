<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Loi 25 Banner Preview</title>
<style>
  * { margin: 0; padding: 0; box-sizing: border-box; }
  body { font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif; background: #f8fafc; color: #1e293b; }

  /* Controls bar */
  .controls {
    position: fixed; top: 0; left: 0; right: 0; z-index: 1000000;
    background: #0f172a; padding: 12px 24px;
    display: flex; align-items: center; gap: 16px; flex-wrap: wrap;
    border-bottom: 1px solid #1e293b;
  }
  .controls label { font-size: 12px; font-weight: 600; color: #94a3b8; text-transform: uppercase; letter-spacing: 0.05em; }
  .controls select {
    background: #1e293b; color: #e2e8f0; border: 1px solid #334155;
    padding: 6px 12px; border-radius: 6px; font-size: 13px; cursor: pointer;
  }
  .controls button {
    background: #1d4ed8; color: #fff; border: none; padding: 8px 20px;
    border-radius: 6px; font-size: 13px; font-weight: 600; cursor: pointer;
  }
  .controls button:hover { background: #1e40af; }
  .controls button.reset { background: #dc2626; }
  .controls button.reset:hover { background: #b91c1c; }
  .controls .sep { width: 1px; height: 24px; background: #334155; }

  /* Fake website content */
  .page { padding: 80px 24px 120px; max-width: 800px; margin: 0 auto; }
  .page h1 { font-size: 28px; font-weight: 700; margin-bottom: 8px; }
  .page h1 span { color: #1d4ed8; }
  .page .sub { color: #64748b; font-size: 15px; margin-bottom: 32px; }
  .page .block { background: #e2e8f0; border-radius: 8px; margin-bottom: 16px; }
  .page p { color: #64748b; font-size: 14px; line-height: 1.7; margin-bottom: 16px; }

  body.dark-mode { background: #18181b; color: #e4e4e7; }
  body.dark-mode .page h1 { color: #f4f4f5; }
  body.dark-mode .page .sub { color: #a1a1aa; }
  body.dark-mode .page .block { background: #27272a; }
  body.dark-mode .page p { color: #a1a1aa; }
</style>
</head>
<body>

<div class="controls">
  <div>
    <label>Lang</label><br>
    <select id="lang">
      <option value="fr">Francais</option>
      <option value="en">English</option>
    </select>
  </div>
  <div>
    <label>Theme</label><br>
    <select id="theme">
      <option value="light">Light</option>
      <option value="dark">Dark</option>
    </select>
  </div>
  <div>
    <label>Position</label><br>
    <select id="position">
      <option value="bottom">Bottom</option>
      <option value="top">Top</option>
    </select>
  </div>
  <span class="sep"></span>
  <button onclick="showBanner()">Show Banner</button>
  <button class="reset" onclick="resetConsent()">Reset Consent</button>
</div>

<div class="page">
  <h1>Mon <span>Entreprise</span> Quebec</h1>
  <p class="sub">A sample website to preview the Loi 25 cookie consent banner</p>

  <div class="block" style="height:180px"></div>
  <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit. Sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris.</p>
  <div class="block" style="height:120px"></div>
  <p>Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident.</p>
  <div class="block" style="height:80px"></div>
  <p>Sed ut perspiciatis unde omnis iste natus error sit voluptatem accusantium doloremque laudantium, totam rem aperiam.</p>
  <div class="block" style="height:140px"></div>
</div>

<script src="packages/core/index.js"></script>
<script>
function showBanner() {
  // Clear previous consent and banner
  localStorage.removeItem('loi25-consent');
  localStorage.removeItem('loi25-consent-date');
  var old = document.getElementById('loi25-banner');
  if (old) old.remove();

  var lang = document.getElementById('lang').value;
  var theme = document.getElementById('theme').value;
  var position = document.getElementById('position').value;

  // Toggle page dark mode to match
  document.body.classList.toggle('dark-mode', theme === 'dark');

  // Call the real library
  Loi25.init({
    lang: lang,
    theme: theme,
    position: position,
    onAcceptAll: null,
    onAcceptNecessary: null
  });
}

function resetConsent() {
  Loi25.revokeConsent();
  var old = document.getElementById('loi25-banner');
  if (old) old.remove();
  alert('Consent cleared â€” click "Show Banner" to see it again');
}

// Auto-show on load
showBanner();
</script>

</body>
</html>
